<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>پرتال گزارش شیفت</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0d1b2a;
      color: #ffffff;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #1b263b;
      padding: 15px;
    }
    header img {
      height: 50px;
    }

    /* پس‌زمینه لاگین */
    #login-section {
      position: relative;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: url("Gz.PNG") no-repeat center center;
      background-size: cover;
    }
    #login-section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(13, 27, 42, 0.8); /* نیمه مات */
    }
    #login-box {
      position: relative;
      background-color: #ffffff;
      color: #000000;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      width: 90%;
      max-width: 350px;
      text-align: center;
    }
    #login-box input {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    #login-box button {
      width: 100%;
    }

    .container {
      padding: 20px;
    }
    .card {
      background-color: #1b263b;
      border-radius: 8px;
      padding: 15px;
      margin: 10px auto;
      width: 90%;
      max-width: 400px;
    }
    .card h3 {
      margin-top: 0;
    }
    .btn {
      display: inline-block;
      background-color: #415a77;
      color: white;
      padding: 10px 20px;
      margin-top: 15px;
      border-radius: 5px;
      text-decoration: none;
      cursor: pointer;
    }
    .btn:hover {
      background-color: #778da9;
    }
    textarea {
      width: 90%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      resize: none;
      font-size: 14px;
    }
    .white-card {
      background-color: #ffffff;
      color: #000000;
    }
    .back-btn {
      display: block;
      margin: 20px auto;
      background-color: #e63946;
      color: white;
      padding: 8px 16px;
      border-radius: 5px;
      text-decoration: none;
      cursor: pointer;
      width: fit-content;
    }
    .back-btn:hover {
      background-color: #ff4d6d;
    }
  </style>
</head>
<body>

  <header>
    <img src="Gz.PNG" alt="لوگو">
    <h2>پرتال گزارش شیفت</h2>
  </header>

  <div id="login-section">
    <div id="login-box">
      <h3>ورود به سامانه</h3>
      <input type="text" id="username" placeholder="نام کاربری"><br>
      <input type="password" id="password" placeholder="رمز عبور"><br>
      <button class="btn" onclick="login()">ورود</button>
    </div>
  </div>

  <div class="container" id="main-menu" style="display:none;">
    <h3>انتخاب شیفت</h3>
    <button class="btn" onclick="openShift('A')">شیفت A</button>
    <button class="btn" onclick="openShift('B')">شیفت B</button>
    <button class="btn" onclick="openShift('C')">شیفت C</button>
  </div>

  <div class="container" id="shift-page" style="display:none;">
    <div class="card">
      <h3 id="shift-title"></h3>
      <p id="shift-time"></p>
      <p id="supervisor"></p>
      <div id="shift-data"></div>
    </div>

    <div class="card white-card">
      <h3>شرح گزارش</h3>
      <textarea id="report-box" rows="4"></textarea>
    </div>

    <div class="card white-card">
      <h3>نظر مدیر واحد</h3>
      <p id="manager-note"></p>
    </div>

    <a class="back-btn" onclick="goBack()">⬅ بازگشت به صفحه قبل</a>
  </div>

  <script>
    let currentUserType = "";

    function login() {
      let username = document.getElementById("username").value;
      let password = document.getElementById("password").value;

      if(password !== "123") {
        alert("رمز عبور اشتباه است");
        return;
      }

      let userNum = parseInt(username);

      if(userNum >= 1 && userNum <= 5) {
        currentUserType = "manager";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("main-menu").style.display = "block";
      } else if(userNum >= 1000 && userNum <= 1800) {
        currentUserType = "user";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("main-menu").style.display = "block";
      } else {
        alert("نام کاربری معتبر نیست");
      }
    }

    function openShift(shift) {
      document.getElementById("main-menu").style.display = "none";
      document.getElementById("shift-page").style.display = "block";

      document.getElementById("shift-title").innerText = "واحد گندله سازی - شیفت " + shift;
      document.getElementById("shift-time").innerText = "ساعت: 07:00 - 15:00";
      document.getElementById("supervisor").innerText = "سرپرست: سعید";

      document.getElementById("shift-data").innerHTML = `
        <p>Humidity: 8.2%</p>
        <p>FeO: 12.5%</p>
        <p>Production: 500 تن</p>
        <p>Blending: 3500</p>
        <p>Reject: 2.1%</p>
      `;

      if(currentUserType === "manager") {
        document.getElementById("report-box").value = "";
        document.getElementById("report-box").disabled = true;
        document.getElementById("manager-note").innerText = "اینجا نظر مدیر وارد می‌شود";
      } else {
        document.getElementById("report-box").value = "";
        document.getElementById("report-box").disabled = false;
        document.getElementById("manager-note").innerText = "در حال بروز رسانی";
      }
    }

    function goBack() {
      document.getElementById("shift-page").style.display = "none";
      document.getElementById("main-menu").style.display = "block";
    }
  </script>

</body>
</html>
